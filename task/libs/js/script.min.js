$(window).on("load",function(){$("#preloader").length&&$("#preloader").delay(1e3).fadeOut("slow",function(){$(this).remove()})}),$(document).ready(function(){$("#submitCitySearch").click(function(){const t=$("#cityParam").val().trim();if(""===t)return $("#cityErrorMsg").text("Please enter a capital city name."),$("#txtCityName").html("None"),$("#txtCountryName").html("None"),$("#txtPopulation").html("None"),$("#txtLatitude").html("None"),void $("#txtLongitude").html("None");$.ajax({url:"libs/php/getCityInfo.php",method:"POST",data:{city:t},success:function(t){console.log("start City search",t),"ok"===t.status.name&&t.data.length>0?($("#txtCityName").html(t.data[0].name),$("#txtCountryName").html(t.data[0].countryName),$("#txtPopulation").html(t.data[0].population),$("#txtLatitude").html(t.data[0].lat),$("#txtLongitude").html(t.data[0].lng),$("#cityErrorMsg").text("")):($("#txtCityName").html("None"),$("#txtCountryName").html("None"),$("#txtPopulation").html("None"),$("#txtLatitude").html("None"),$("#txtLongitude").html("None"),$("#cityErrorMsg").text("No results found for the specified city."))},error:function(){$("#txtCityName").html("None"),$("#txtCountryName").html("None"),$("#txtPopulation").html("None"),$("#txtLatitude").html("None"),$("#txtLongitude").html("None"),$("#cityErrorMsg").text("Error occurred while fetching data.")}})}),$("#submitTimezoneSearch").click(function(){const t=$("#latParam").val().trim(),e=$("#lngParam").val().trim();if(""===t||""===e)return $("#timezoneErrorMsg").text("Please enter both latitude and longitude."),$("#txtTimezoneId").html("None"),$("#txtTimezoneCountry").html("None"),$("#txtLocalTime").html("None"),$("#txtSunrise").html("None"),void $("#txtSunset").html("None");$.ajax({url:"libs/php/getTimeZoneInfo.php",method:"POST",data:{lat:t,lng:e},success:function(t){console.log("start Timezone search",t),"ok"===t.status.name?($("#txtTimezoneId").html(t.data.timezoneId),$("#txtTimezoneCountry").html(t.data.countryName),$("#txtLocalTime").html(t.data.time),$("#txtSunrise").html(t.data.sunrise),$("#txtSunset").html(t.data.sunset),$("#timezoneErrorMsg").text("")):($("#txtTimezoneId").html("None"),$("#txtTimezoneCountry").html("None"),$("#txtLocalTime").html("None"),$("#txtSunrise").html("None"),$("#txtSunset").html("None"),$("#timezoneErrorMsg").text(t.status.description||"No timezone data found for the provided coordinates."))},error:function(){$("#txtTimezoneId").html("None"),$("#txtTimezoneCountry").html("None"),$("#txtLocalTime").html("None"),$("#txtSunrise").html("None"),$("#txtSunset").html("None"),$("#timezoneErrorMsg").text("Error occurred while fetching data.")}})}),$("#submitWeatherSearch").click(function(){const t=$("#weatherLat").val().trim(),e=$("#weatherLng").val().trim();if(""===t||""===e)return $("#weatherErrorMsg").text("Please enter both latitude and longitude."),$("#txtStationName").html("None"),$("#txtTemperature").html("None"),$("#txtHumidity").html("None"),$("#txtWindSpeed").html("None"),void $("#txtClouds").html("None");$.ajax({url:"libs/php/getWeatherInfo.php",method:"POST",data:{lat:t,lng:e},success:function(t){console.log("start Wather search",t),"ok"===t.status.name&&t.data.weatherObservation?($("#txtStationName").html(t.data.weatherObservation.stationName),$("#txtTemperature").html(t.data.weatherObservation.temperature+"Â°C"),$("#txtHumidity").html(t.data.weatherObservation.humidity+"%"),$("#txtWindSpeed").html(t.data.weatherObservation.windSpeed+" km/h"),$("#txtClouds").html(t.data.weatherObservation.clouds),$("#weatherErrorMsg").text("")):($("#txtStationName").html("None"),$("#txtTemperature").html("None"),$("#txtHumidity").html("None"),$("#txtWindSpeed").html("None"),$("#txtClouds").html("None"),$("#weatherErrorMsg").text("No weather data found for the provided coordinates."))},error:function(){$("#txtStationName").html("None"),$("#txtTemperature").html("None"),$("#txtHumidity").html("None"),$("#txtWindSpeed").html("None"),$("#txtClouds").html("None"),$("#weatherErrorMsg").text("Error occurred while fetching data.")}})})});